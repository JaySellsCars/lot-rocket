<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lot Rocket</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body class="dark-theme">
  <!-- HEADER -->
  <header class="app-header">
    <div class="branding">
      <h1>ðŸš€ Lot Rocket</h1>
      <p>AI Social Media Kit & Creative Lab for Car Sales Pros</p>
    </div>

    <div class="header-controls">
      <label class="theme-switch">
        <span>Dark</span>
        <input type="checkbox" id="themeToggle" checked />
        <span>Light</span>
      </label>
    </div>
  </header>

  <!-- MAIN LAYOUT -->
  <main class="layout">

    <!-- ========================================= -->
    <!-- STEP 1 â€“ Dealer URL Scraper (LEFT COLUMN) -->
    <!-- ========================================= -->
    <section class="column-left column">
      <h2>Step 1 â€“ Dealer URL Scraper</h2>

      <div class="summary-box">
        <h3>Vehicle Details</h3>

        <label>
          Dealer Vehicle URL
          <input type="text" id="vehicleUrl" placeholder="Paste full dealer listing URL here..." />
        </label>

        <label>
          Vehicle Label (optional override)
          <input type="text" id="vehicleLabel" placeholder="Example: 2024 Chevy Silverado LTZ 4x4" />
        </label>

        <label>
          Price / Offer (optional override)
          <input type="text" id="priceInfo" placeholder="Example: $699/mo or $47,995 + tax" />
        </label>

        <p class="small-note">
          Lot Rocket will scrape the page and clean up the title, description, and photos.
        </p>

        <div class="summary-box inner-summary">
          <h3>Summary Snapshot</h3>
          <p>Vehicle: <span id="summaryLabel">â€”</span></p>
          <p>Price: <span id="summaryPrice">â€”</span></p>
        </div>

        <button id="boostButton" class="primary-btn summary-btn">Boost This Listing</button>
        <div id="statusText" class="status-text"></div>
      </div>

      <div class="summary-box">
        <h3>Photos pulled from dealer site</h3>
        <p class="small-note">
          Click "Boost This Listing" to refresh photos. Up to 24 images, logos removed when possible.
        </p>

        <button id="sendPhotosToStudio" class="secondary-btn" disabled>
          Send top photos to Creative Studio
        </button>

        <div id="photosGrid" class="photo-grid"></div>
      </div>
    </section>

    <!-- ============================== -->
    <!-- STEP 2 â€“ Social Media Kit     -->
    <!-- ============================== -->
    <section class="column-middle">

      <!-- Step 2 header spans both columns -->
      <div class="summary-box step2-header">
        <h2>Step 2 â€“ Social Media Kit</h2>
        <p class="small-note">Copy, tweak, and paste into each platform. Spin fresh versions anytime.</p>
      </div>

      <!-- 8 Social Platform Cards â€” EXACTLY like your white screenshot -->

      <div class="platform-card">
        <h3>Facebook Post</h3>
        <textarea id="facebookPost" placeholder="Facebook post will appear here after Boost."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="facebook">New Post</button>
          <button class="copy-btn" data-copy-target="facebookPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Instagram Caption</h3>
        <textarea id="instagramPost" placeholder="Instagram caption will appear here after Boost."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="instagram">New Post</button>
          <button class="copy-btn" data-copy-target="instagramPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>TikTok Caption</h3>
        <textarea id="tiktokPost" placeholder="TikTok caption + hook will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="tiktok">New Post</button>
          <button class="copy-btn" data-copy-target="tiktokPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>LinkedIn Post</h3>
        <textarea id="linkedinPost" placeholder="LinkedIn post will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="linkedin">New Post</button>
          <button class="copy-btn" data-copy-target="linkedinPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>X / Twitter Post</h3>
        <textarea id="twitterPost" placeholder="X / Twitter post will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="twitter">New Post</button>
          <button class="copy-btn" data-copy-target="twitterPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Text / DM</h3>
        <textarea id="textBlurb" placeholder="Short, high-converting text / DM will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="text">New Text</button>
          <button class="copy-btn" data-copy-target="textBlurb">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Marketplace Listing</h3>
        <textarea id="marketplacePost" placeholder="Marketplace description will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="marketplace">New Post</button>
          <button class="copy-btn" data-copy-target="marketplacePost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Hashtag Set</h3>
        <textarea id="hashtags" placeholder="Hashtag set will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="hashtags">New Set</button>
          <button class="copy-btn" data-copy-target="hashtags">Copy</button>
        </div>
      </div>
    </section>

    <!-- ============================== -->
    <!-- STEP 3 â€“ Creative Lab (BOTTOM) -->
    <!-- ============================== -->
    <section class="column-right column">
      <h2>Step 3 â€“ Creative Lab</h2>

      <button id="openCreativeStudio" class="primary-btn full-width-bar">
        âœ¨ Open Creative Studio
      </button>

      <!-- Quick Video Idea -->
      <div class="lab-card">
        <h3>Quick Sales Video Idea</h3>

        <label>
          Vehicle / Offer
          <input type="text" id="videoVehicle" placeholder="Vehicle or promo" />
        </label>

        <label>
          Hook
          <input type="text" id="videoHook" placeholder="Example: Stop scrolling..." />
        </label>

        <label>
          Style
          <input type="text" id="videoStyle" placeholder="Energetic, educational, hype" />
        </label>

        <label>
          Length / Aspect
          <input type="text" id="videoLength" placeholder="Example: 30s vertical 9:16" />
        </label>

        <button id="generateVideoIdea" class="primary-btn">Generate Video Idea</button>

        <textarea id="videoIdeaOutput" placeholder="Video script / beats will appear here."></textarea>
        <div class="btn-row">
          <button class="copy-btn" data-copy-target="videoIdeaOutput">Copy</button>
        </div>
      </div>

      <!-- Canva Layout Planner -->
      <div class="lab-card">
        <h3>Canva Layout Planner</h3>

        <label>
          Creative Type
          <input type="text" id="layoutType" placeholder="Story, feed post, flyer" />
        </label>

        <label>
          Headline
          <input type="text" id="layoutHeadline" placeholder="Main headline" />
        </label>

        <label>
          Call To Action
          <input type="text" id="layoutCTA" placeholder="CTA text" />
        </label>

        <label>
          Vibe
          <input type="text" id="layoutVibe" placeholder="Clean, bold, premium" />
        </label>

        <button id="generateLayoutIdea" class="primary-btn">Generate Layout Idea</button>

        <textarea id="layoutIdeaOutput" placeholder="Layout idea / text content will appear here."></textarea>
        <div class="btn-row">
          <button class="copy-btn" data-copy-target="layoutIdeaOutput">Copy</button>
        </div>
      </div>

      <!-- Photo Tuner -->
      <div class="lab-card">
        <h3>Photo Quick Tuner</h3>

        <input type="file" id="photoUpload" accept="image/*" />

        <div class="photo-preview-wrapper">
          <img id="photoPreview" style="display: none;" />
          <div id="photoPlaceholder" class="small-note">Upload a photo to tweak brightness, contrast, and saturation.</div>
        </div>

        <div class="slider-group">
          <label>
            Brightness
            <input type="range" id="brightnessRange" min="50" max="150" value="100" />
          </label>

          <label>
            Contrast
            <input type="range" id="contrastRange" min="50" max="150" value="100" />
          </label>

          <label>
            Saturation
            <input type="range" id="saturationRange" min="50" max="150" value="100" />
          </label>
        </div>
      </div>
    </section>
  </main>

  <!-- FLOATING TOOL BUTTONS (RIGHT SIDE) -->
  <aside class="floating-tools">
    <button id="objectionLauncher" class="tool-button">Objection Coach</button>
    <button id="calcLauncher" class="tool-button">Calculator</button>
    <button id="paymentLauncher" class="tool-button">Payment Calculator</button>
    <button id="incomeLauncher" class="tool-button">Income Calculator</button>
    <button id="workflowLauncher" class="tool-button">AI Work Flow Expert</button>
    <button id="messageLauncher" class="tool-button">AI Message Builder</button>
    <button id="askLauncher" class="tool-button">Ask A.I.</button>
    <button id="carLauncher" class="tool-button">AI Car Expert</button>
    <button id="imageLauncher" class="tool-button">AI Image Generation</button>
    <button id="videoLauncher" class="tool-button">AI Video Generation</button>
  </aside>
  <!-- ===================================================== -->
  <!-- AI TOOL MODALS â€“ Slide-over side panels               -->
  <!-- ===================================================== -->

  <!-- Objection Coach -->
  <div id="objectionModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>Objection Coach</h2>
        <button id="objectionClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Paste the customerâ€™s objection and get a ready-to-send reply plus coaching tips.</p>
        <label>
          Customer Objection
          <textarea id="objectionInput" placeholder="Example: &quot;I want to think about it&quot;"></textarea>
        </label>
        <button id="runObjectionCoach" class="primary-btn">Get Coaching</button>
        <label>
          Suggested Reply + Coaching
          <textarea id="objectionOutput" placeholder="Response and coaching will appear here."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- Basic Calculator -->
  <div id="calcModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>Calculator</h2>
        <button id="calcClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Quick math while youâ€™re working a deal. Tap the keys below.</p>
        <div id="basicCalcDisplay" class="calc-display">0</div>
        <div id="basicCalcPanel" class="basic-calc-keys">
          <!-- Row 1 -->
          <button data-calc="7">7</button>
          <button data-calc="8">8</button>
          <button data-calc="9">9</button>
          <button data-calc="/">Ã·</button>
          <!-- Row 2 -->
          <button data-calc="4">4</button>
          <button data-calc="5">5</button>
          <button data-calc="6">6</button>
          <button data-calc="*">Ã—</button>
          <!-- Row 3 -->
          <button data-calc="1">1</button>
          <button data-calc="2">2</button>
          <button data-calc="3">3</button>
          <button data-calc="-">âˆ’</button>
          <!-- Row 4 -->
          <button data-calc="0">0</button>
          <button data-calc=".">.</button>
          <button data-calc="=">=</button>
          <button data-calc="+">+</button>
          <!-- Row 5 -->
          <button data-calc="C">C</button>
          <button data-calc="DEL">DEL</button>
        </div>
        <p class="small-note">This is a simple helper, not a financial calculator.</p>
      </div>
    </div>
  </div>

  <!-- Payment Calculator -->
  <div id="paymentModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>Payment Calculator</h2>
        <button id="paymentClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Rough payment estimate â€“ perfect for early desk conversations.</p>

        <div class="calc-grid">
          <label>
            Auto Price
            <input type="number" id="autoPrice" placeholder="Example: 38995" />
          </label>
          <label>
            Loan Term (months)
            <input type="number" id="loanTermMonths" placeholder="Example: 72" />
          </label>
          <label>
            Interest Rate (% APR)
            <input type="number" id="interestRate" placeholder="Example: 8.49" />
          </label>
          <label>
            Cash Incentives / Rebates
            <input type="number" id="cashIncentives" placeholder="Example: 1000" />
          </label>
          <label>
            Down Payment
            <input type="number" id="downPayment" placeholder="Example: 3000" />
          </label>
          <label>
            Trade-In Value
            <input type="number" id="tradeInValue" placeholder="Example: 15000" />
          </label>
          <label>
            Trade Balance Owed
            <input type="number" id="tradeOwed" placeholder="Example: 12000" />
          </label>
          <label>
            Sales Tax (%)
            <input type="number" id="salesTax" placeholder="Example: 6" />
          </label>
          <label>
            Fees (doc, title, etc.)
            <input type="number" id="fees" placeholder="Example: 600" />
          </label>
        </div>

        <button id="runPaymentHelper" class="primary-btn">Estimate Payment</button>

        <label>
          Payment Breakdown
          <textarea id="paymentOutput" placeholder="Results will appear here."></textarea>
        </label>
        <p class="small-note">
          Estimates only â€“ not a formal quote or offer. Always verify numbers with your desk / finance.
        </p>
      </div>
    </div>
  </div>

  <!-- Income Calculator -->
  <div id="incomeModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>Income Calculator</h2>
        <button id="incomeClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Estimate a customerâ€™s income based on YTD and hire date.</p>

        <label>
          Year-to-Date Income
          <input type="number" id="ytdIncome" placeholder="Example: 28500" />
        </label>
        <label>
          Hire Date
          <input type="date" id="hireDate" />
        </label>
        <label>
          Most Recent Check Date
          <input type="date" id="checkDate" />
        </label>

        <button id="runIncomeHelper" class="primary-btn">Estimate Income</button>

        <label>
          Income Estimate
          <textarea id="incomeOutput" placeholder="Results will appear here."></textarea>
        </label>
        <p class="small-note">
          Rough guideline only. Always follow lender guidelines and compliance rules.
        </p>
      </div>
    </div>
  </div>

  <!-- Workflow Expert -->
  <div id="workflowModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>AI Work Flow Expert</h2>
        <button id="workflowClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Describe the situation and get a step-by-step game plan.</p>

        <label>
          Situation / Scenario
          <textarea id="workflowSituation" placeholder="Example: Internet lead that went cold after first appointment..."></textarea>
        </label>

        <button id="runWorkflowHelper" class="primary-btn">Build Workflow</button>

        <label>
          Workflow / Playbook
          <textarea id="workflowOutput" placeholder="Steps and templates will appear here."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- Message Builder -->
  <div id="messageModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>AI Message Builder</h2>
        <button id="messageClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Build ready-to-send texts, emails, and DMs.</p>

        <label>
          Message Type
          <input type="text" id="messageType" placeholder="Text, email, DM, follow-up, apology, etc." />
        </label>
        <label>
          Goal
          <input type="text" id="messageGoal" placeholder="Set appointment, re-engage, follow-up on credit app, etc." />
        </label>
        <label>
          Details / Context
          <textarea id="messageDetails" placeholder="Anything you know about the customer or situation."></textarea>
        </label>

        <button id="runMessageHelper" class="primary-btn">Generate Message</button>

        <label>
          Suggested Message
          <textarea id="messageOutput" placeholder="Copy and tweak before sending."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- Ask AI -->
  <div id="askModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>Ask A.I.</h2>
        <button id="askClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Quick answers to sales, business, and process questions.</p>

        <label>
          Your Question
          <textarea id="askQuestion" placeholder="Ask anything related to car sales, leads, process, or business."></textarea>
        </label>

        <button id="runAskHelper" class="primary-btn">Ask</button>

        <label>
          Answer
          <textarea id="askOutput" placeholder="Answer will appear here."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- Car Expert -->
  <div id="carModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>AI Car Expert</h2>
        <button id="carClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Explain trims, features, and comparisons like a pro.</p>

        <label>
          Car Question
          <textarea id="carQuestion" placeholder="Example: Differences between LT and LTZ on a 2024 Silverado?"></textarea>
        </label>

        <button id="runCarHelper" class="primary-btn">Ask Car Expert</button>

        <label>
          Response
          <textarea id="carOutput" placeholder="Explanation will appear here."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- AI Image Prompt Builder -->
  <div id="imageModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>AI Image Generation</h2>
        <button id="imageClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Turn a rough idea into a detailed prompt for your favorite image generator.</p>

        <label>
          Image Idea
          <textarea id="imagePrompt" placeholder="Example: Red Silverado on showroom floor, night lighting, big &quot;0 Down&quot; overlay..."></textarea>
        </label>

        <button id="runImageHelper" class="primary-btn">Build Image Prompt</button>

        <label>
          AI Image Prompt
          <textarea id="imageOutput" placeholder="Paste this into Midjourney, DALLÂ·E, etc."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- AI Video Prompt Builder -->
  <div id="videoModal" class="side-modal hidden">
    <div class="side-modal-panel">
      <div class="side-modal-header">
        <h2>AI Video Generation</h2>
        <button id="videoClose" class="side-modal-close">âœ•</button>
      </div>
      <div class="side-modal-body">
        <p>Describe the idea and get a detailed brief for AI video tools.</p>

        <label>
          Video Idea
          <textarea id="videoGenPrompt" placeholder="Example: 20s hype reel for fresh trade-in SUV, fast cuts, big text..."></textarea>
        </label>

        <button id="runVideoHelper" class="primary-btn">Build Video Brief</button>

        <label>
          AI Video Brief
          <textarea id="videoGenOutput" placeholder="Scene-by-scene brief will appear here."></textarea>
        </label>
      </div>
    </div>
  </div>

  <!-- CREATIVE STUDIO OVERLAY (unchanged, works with app.js) -->
  <div id="creativeStudioOverlay" class="creative-overlay hidden">
    <div class="creative-modal">
      <div class="creative-header">
        <h2>Creative Studio</h2>
        <button id="creativeClose" class="modal-close-btn">âœ•</button>
      </div>

      <div class="creative-top-bar">
        <div class="preset-label">
          <span>Canvas preset</span>
          <select id="creativeCanvasPreset">
            <option value="1080x1080">Square â€“ 1080x1080</option>
            <option value="1080x1920">Story â€“ 1080x1920</option>
            <option value="1920x1080">Landscape â€“ 1920x1080</option>
          </select>
        </div>

        <div class="creative-actions">
          <button id="creativeUndo">Undo</button>
          <button id="creativeRedo">Redo</button>
          <button id="creativeDelete">Delete</button>
          <button id="creativeExportPng">Export PNG</button>
        </div>
      </div>

      <div class="creative-body">
        <aside class="creative-tools">
          <h3>Tools</h3>
          <button class="tool-btn tool-btn-active" data-tool="select">Select / Move</button>
          <button class="tool-btn" data-tool="uploadImage">Add Photo</button>
          <button class="tool-btn" data-tool="addText">Add Text</button>
          <button class="tool-btn" data-tool="addRect">Banner Bar</button>
          <button class="tool-btn" data-tool="addBadge">Price Badge</button>
          <input id="creativeImageInput" type="file" class="hidden-input" accept="image/*" />
        </aside>

        <div class="creative-canvas-wrap">
          <canvas id="creativeCanvas" width="1080" height="1080"></canvas>
        </div>

        <aside class="creative-properties">
          <div class="prop-group">
            <h4>Shape / Image</h4>
            <label>
              Fill color
              <input type="color" id="propFillColor" value="#ffffff" />
            </label>
            <label>
              Stroke color
              <input type="color" id="propStrokeColor" value="#000000" />
            </label>
            <label>
              Stroke width
              <input type="number" id="propStrokeWidth" min="0" max="20" value="0" />
            </label>
          </div>

          <div class="prop-group" id="textOptions" style="display:none;">
            <h4>Text</h4>
            <label>
              Font size
              <input type="number" id="propFontSize" value="48" min="10" max="120" />
            </label>
            <label>
              Align
              <select id="propTextAlign">
                <option value="left">Left</option>
                <option value="center" selected>Center</option>
                <option value="right">Right</option>
              </select>
            </label>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
