<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lot Rocket</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body class="dark-theme">
  <!-- HEADER -->
  <header class="app-header">
    <div class="branding">
      <h1>üöÄ Lot Rocket</h1>
      <p>AI Social Media Kit & Creative Lab for Car Sales Pros</p>
    </div>

    <div class="header-controls">
      <label class="theme-switch">
        <span>Dark</span>
        <input type="checkbox" id="themeToggle" checked />
        <span>Light</span>
      </label>
    </div>
  </header>

  <!-- MAIN LAYOUT -->
  <main class="layout">

    <!-- ========================================= -->
    <!-- STEP 1 ‚Äì Dealer URL Scraper (LEFT COLUMN) -->
    <!-- ========================================= -->
    <section class="column-left column">
      <h2>Step 1 ‚Äì Dealer URL Scraper</h2>

      <div class="summary-box">
        <h3>Vehicle Details</h3>

        <label>
          Dealer Vehicle URL
          <input type="text" id="vehicleUrl" placeholder="Paste full dealer listing URL here..." />
        </label>

        <label>
          Vehicle Label (optional override)
          <input type="text" id="vehicleLabel" placeholder="Example: 2024 Chevy Silverado LTZ 4x4" />
        </label>

        <label>
          Price / Offer (optional override)
          <input type="text" id="priceInfo" placeholder="Example: $699/mo or $47,995 + tax" />
        </label>

        <p class="small-note">
          Lot Rocket will scrape the page and clean up the title, description, and photos.
        </p>

        <div class="summary-box inner-summary">
          <h3>Summary Snapshot</h3>
          <p>Vehicle: <span id="summaryLabel">‚Äî</span></p>
          <p>Price: <span id="summaryPrice">‚Äî</span></p>
        </div>

        <button id="boostButton" class="primary-btn summary-btn">Boost This Listing</button>
        <div id="statusText" class="status-text"></div>
      </div>

      <div class="summary-box">
        <h3>Photos pulled from dealer site</h3>
        <p class="small-note">
          Click "Boost This Listing" to refresh photos. Up to 24 images, logos removed when possible.
        </p>

        <button id="sendPhotosToStudio" class="secondary-btn" disabled>
          Send top photos to Creative Studio
        </button>

        <div id="photosGrid" class="photo-grid"></div>
      </div>
    </section>

    <!-- ============================== -->
    <!-- STEP 2 ‚Äì Social Media Kit     -->
    <!-- ============================== -->
    <section class="column-middle">

      <!-- Step 2 header spans both columns -->
      <div class="summary-box step2-header">
        <h2>Step 2 ‚Äì Social Media Kit</h2>
        <p class="small-note">Copy, tweak, and paste into each platform. Spin fresh versions anytime.</p>
      </div>

      <!-- 8 Social Platform Cards -->

      <div class="platform-card">
        <h3>Facebook Post</h3>
        <textarea id="facebookPost" placeholder="Facebook post will appear here after Boost."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="facebook">New Post</button>
          <button class="copy-btn" data-copy-target="facebookPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Instagram Caption</h3>
        <textarea id="instagramPost" placeholder="Instagram caption will appear here after Boost."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="instagram">New Post</button>
          <button class="copy-btn" data-copy-target="instagramPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>TikTok Caption</h3>
        <textarea id="tiktokPost" placeholder="TikTok caption + hook will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="tiktok">New Post</button>
          <button class="copy-btn" data-copy-target="tiktokPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>LinkedIn Post</h3>
        <textarea id="linkedinPost" placeholder="LinkedIn post will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="linkedin">New Post</button>
          <button class="copy-btn" data-copy-target="linkedinPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>X / Twitter Post</h3>
        <textarea id="twitterPost" placeholder="X / Twitter post will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="twitter">New Post</button>
          <button class="copy-btn" data-copy-target="twitterPost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Text / DM</h3>
        <textarea id="textBlurb" placeholder="Short, high-converting text / DM will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="text">New Text</button>
          <button class="copy-btn" data-copy-target="textBlurb">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Marketplace Listing</h3>
        <textarea id="marketplacePost" placeholder="Marketplace description will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="marketplace">New Post</button>
          <button class="copy-btn" data-copy-target="marketplacePost">Copy</button>
        </div>
      </div>

      <div class="platform-card">
        <h3>Hashtag Set</h3>
        <textarea id="hashtags" placeholder="Hashtag set will appear here."></textarea>
        <div class="btn-row">
          <button class="regen-btn" data-platform="hashtags">New Set</button>
          <button class="copy-btn" data-copy-target="hashtags">Copy</button>
        </div>
      </div>
    </section>

    <!-- ============================== -->
    <!-- STEP 3 ‚Äì Creative Lab (BOTTOM) -->
    <!-- ============================== -->
    <section class="column-right column">
      <h2>Step 3 ‚Äì Creative Lab</h2>

      <button id="openCreativeStudio" class="primary-btn full-width-bar">
        ‚ú® Open Creative Studio
      </button>

      <!-- Quick Video Idea -->
      <div class="lab-card">
        <h3>Quick Sales Video Idea</h3>

        <label>
          Vehicle / Offer
          <input type="text" id="videoVehicle" placeholder="Vehicle or promo" />
        </label>

        <label>
          Hook
          <input type="text" id="videoHook" placeholder="Example: Stop scrolling..." />
        </label>

        <label>
          Style
          <input type="text" id="videoStyle" placeholder="Energetic, educational, hype" />
        </label>

        <label>
          Length / Aspect
          <input type="text" id="videoLength" placeholder="Example: 30s vertical 9:16" />
        </label>

        <button id="generateVideoIdea" class="primary-btn">Generate Video Idea</button>

        <textarea id="videoIdeaOutput" placeholder="Video script / beats will appear here."></textarea>
        <div class="btn-row">
          <button class="copy-btn" data-copy-target="videoIdeaOutput">Copy</button>
        </div>
      </div>

      <!-- Canva Layout Planner -->
      <div class="lab-card">
        <h3>Canva Layout Planner</h3>

        <label>
          Creative Type
          <input type="text" id="layoutType" placeholder="Story, feed post, flyer" />
        </label>

        <label>
          Headline
          <input type="text" id="layoutHeadline" placeholder="Main headline" />
        </label>

        <label>
          Call To Action
          <input type="text" id="layoutCTA" placeholder="CTA text" />
        </label>

        <label>
          Vibe
          <input type="text" id="layoutVibe" placeholder="Clean, bold, premium" />
        </label>

        <button id="generateLayoutIdea" class="primary-btn">Generate Layout Idea</button>

        <textarea id="layoutIdeaOutput" placeholder="Layout idea / text content will appear here."></textarea>
        <div class="btn-row">
          <button class="copy-btn" data-copy-target="layoutIdeaOutput">Copy</button>
        </div>
      </div>

      <!-- Photo Tuner -->
      <div class="lab-card">
        <h3>Photo Quick Tuner</h3>

        <input type="file" id="photoUpload" accept="image/*" />

        <div class="photo-preview-wrapper">
          <img id="photoPreview" style="display: none;" />
          <div id="photoPlaceholder" class="small-note">Upload a photo to tweak brightness, contrast, and saturation.</div>
        </div>

        <div class="slider-group">
          <label>
            Brightness
            <input type="range" id="brightnessRange" min="50" max="150" value="100" />
          </label>

          <label>
            Contrast
            <input type="range" id="contrastRange" min="50" max="150" value="100" />
          </label>

          <label>
            Saturation
            <input type="range" id="saturationRange" min="50" max="150" value="100" />
          </label>
        </div>
      </div>
    </section>
  </main>

  <!-- FLOATING TOOL BUTTONS (RIGHT SIDE) -->
<aside class="floating-tools">
  <button id="objectionLauncher" class="tool-button">
    <span class="tool-icon">üß†</span>
    <span class="tool-label">Objection Coach</span>
  </button>
  <button id="calcLauncher" class="tool-button">
    <span class="tool-icon">üßÆ</span>
    <span class="tool-label">Calculator</span>
  </button>
  <button id="paymentLauncher" class="tool-button">
    <span class="tool-icon">üí≥</span>
    <span class="tool-label">Payment Calculator</span>
  </button>
  <button id="incomeLauncher" class="tool-button">
    <span class="tool-icon">üìà</span>
    <span class="tool-label">Income Calculator</span>
  </button>
  <button id="workflowLauncher" class="tool-button">
    <span class="tool-icon">üìã</span>
    <span class="tool-label">AI Work Flow Expert</span>
  </button>
  <button id="messageLauncher" class="tool-button">
    <span class="tool-icon">‚úâÔ∏è</span>
    <span class="tool-label">AI Message Builder</span>
  </button>
  <button id="askLauncher" class="tool-button">
    <span class="tool-icon">‚ùì</span>
    <span class="tool-label">Ask A.I.</span>
  </button>
  <button id="carLauncher" class="tool-button">
    <span class="tool-icon">üöó</span>
    <span class="tool-label">AI Car Expert</span>
  </button>
  <button id="imageLauncher" class="tool-button">
    <span class="tool-icon">üñºÔ∏è</span>
    <span class="tool-label">AI Image Generation</span>
  </button>
  <button id="videoLauncher" class="tool-button">
    <span class="tool-icon">üé¨</span>
    <span class="tool-label">AI Video Generation</span>
  </button>
</aside>


  <!-- ############ MODALS ############ -->

  <!-- Objection Coach -->
  <div id="objectionModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>Objection Coach</h2>
        <button id="objectionClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Paste the customer's objection and get a ready-to-send reply plus coaching tips.
        </p>

        <label>
          Customer Objection
          <textarea id="objectionInput"
                    placeholder="Example: I need to talk to my wife."></textarea>
        </label>

        <button id="runObjectionCoach" class="primary-btn">Get Coaching</button>

        <label>
          Suggested Reply + Coaching
          <textarea id="objectionOutput"
                    data-autogrow="true"
                    placeholder="Suggested reply + coaching will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="objectionOutput">Copy Reply</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Basic Calculator -->
  <div id="calcModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>Calculator</h2>
        <button id="calcClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <div id="basicCalcPanel" class="basic-calc">
          <div id="basicCalcDisplay" class="basic-calc-display">0</div>
          <!-- calculator buttons go here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Calculator -->
  <div id="paymentModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>Payment Calculator</h2>
        <button id="paymentClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Rough payment estimate only. Not a quote or offer.
        </p>

        <label>
          Auto Price
          <input type="number" id="autoPrice" placeholder="Vehicle price" />
        </label>

        <label>
          Loan Term (months)
          <input type="number" id="loanTermMonths" placeholder="72" />
        </label>

        <label>
          Interest Rate (APR %)
          <input type="number" id="interestRate" placeholder="7.9" />
        </label>

        <label>
          Cash Incentives / Rebates
          <input type="number" id="cashIncentives" placeholder="0" />
        </label>

        <label>
          Down Payment
          <input type="number" id="downPayment" placeholder="0" />
        </label>

        <label>
          Trade-In Value
          <input type="number" id="tradeInValue" placeholder="0" />
        </label>

        <label>
          Amount Owed on Trade
          <input type="number" id="tradeOwed" placeholder="0" />
        </label>

        <label>
          Sales Tax (%)
          <input type="number" id="salesTax" placeholder="6" />
        </label>

        <label>
          Fees (doc, title, etc.)
          <input type="number" id="fees" placeholder="0" />
        </label>

        <button id="runPaymentHelper" class="primary-btn">Run Payment Estimate</button>

        <label>
          Payment Breakdown
          <textarea id="paymentOutput"
                    data-autogrow="true"
                    placeholder="Payment estimate will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="paymentOutput">Copy Breakdown</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Income Calculator -->
  <div id="incomeModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>Income Calculator</h2>
        <button id="incomeClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Estimate monthly & annual income from YTD on a pay stub.
        </p>

        <label>
          Year-to-Date Income
          <input type="number" id="ytdIncome" placeholder="YTD gross income" />
        </label>

        <label>
          Hire Date
          <input type="date" id="hireDate" />
        </label>

        <label>
          Latest Check Date
          <input type="date" id="checkDate" />
        </label>

        <button id="runIncomeHelper" class="primary-btn">Estimate Income</button>

        <label>
          Income Estimate
          <textarea id="incomeOutput"
                    data-autogrow="true"
                    placeholder="Estimated income will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="incomeOutput">Copy Estimate</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Workflow Expert -->
  <div id="workflowModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>AI Workflow Expert</h2>
        <button id="workflowClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Describe the situation and get a step-by-step follow-up workflow.
        </p>

        <label>
          Situation
          <textarea id="workflowSituation"
                    placeholder="Example: Fresh internet lead, hasn't replied to first text..."></textarea>
        </label>

        <button id="runWorkflowHelper" class="primary-btn">Build Workflow</button>

        <label>
          Workflow Plan
          <textarea id="workflowOutput"
                    data-autogrow="true"
                    placeholder="Steps and templates will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="workflowOutput">Copy Workflow</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Message Builder -->
  <div id="messageModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>AI Message Builder</h2>
        <button id="messageClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Generate ready-to-send text, email, or DM for your customer.
        </p>

        <label>
          Message Type
          <input type="text" id="messageType" placeholder="Text, email, DM, follow-up, etc." />
        </label>

        <label>
          Goal
          <input type="text" id="messageGoal" placeholder="Example: Get them back in, set appointment, etc." />
        </label>

        <label>
          Details / Context
          <textarea id="messageDetails"
                    placeholder="Customer situation, vehicle, objections, notes..."></textarea>
        </label>

        <button id="runMessageHelper" class="primary-btn">Generate Message</button>

        <label>
          Suggested Message
          <textarea id="messageOutput"
                    data-autogrow="true"
                    placeholder="Your ready-to-send message will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="messageOutput">Copy Message</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Ask AI -->
  <div id="askModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>Ask A.I.</h2>
        <button id="askClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <label>
          Question
          <textarea id="askQuestion"
                    placeholder="Any sales, follow-up, or business question."></textarea>
        </label>

        <button id="runAskHelper" class="primary-btn">Ask</button>

        <label>
          Answer
          <textarea id="askOutput"
                    data-autogrow="true"
                    placeholder="Answer will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="askOutput">Copy Answer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Car Expert -->
  <div id="carModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>AI Car Expert</h2>
        <button id="carClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <label>
          Car Question
          <textarea id="carQuestion"
                    placeholder="Trim, features, comparisons, which model to recommend, etc."></textarea>
        </label>

        <button id="runCarHelper" class="primary-btn">Ask Car Expert</button>

        <label>
          Answer
          <textarea id="carOutput"
                    data-autogrow="true"
                    placeholder="Explanation will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="carOutput">Copy Answer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- AI Image Prompt Builder -->
  <div id="imageModal" class="side-modal hidden">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>AI Image Generation Helper</h2>
        <button id="imageClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Describe the image you want; Lot Rocket will turn it into a detailed AI prompt.
        </p>

        <label>
          Raw Idea
          <textarea id="imagePrompt"
                    placeholder="Example: Red Silverado at sunset, payment badge, dealership in background..."></textarea>
        </label>

        <button id="runImageHelper" class="primary-btn">Build Image Prompt</button>

        <label>
          AI Image Prompt
          <textarea id="imageOutput"
                    data-autogrow="true"
                    placeholder="Copy this into your favorite AI image tool."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="imageOutput">Copy Prompt</button>
        </div>
      </div>
    </div>
  </div>

  <!-- AI Video Brief Builder -->
  <div id="videoModal" class="side-modal hidden" style="display:none;">
    <div class="side-modal-content">
      <header class="side-modal-header">
        <h2>AI Video Generation Helper</h2>
        <button id="videoClose" class="modal-close-btn">‚úï</button>
      </header>

      <div class="side-modal-body">
        <p class="small-note">
          Describe the video idea and get a detailed brief for an AI video tool.
        </p>

        <label>
          Raw Idea
          <textarea id="videoGenPrompt"
                    placeholder="Example: 30s vertical hype reel for a 2025 Tahoe RST..."></textarea>
        </label>

        <button id="runVideoHelper" class="primary-btn">Build Video Brief</button>

        <label>
          Video Brief
          <textarea id="videoGenOutput"
                    data-autogrow="true"
                    placeholder="Scene-by-scene brief will appear here."></textarea>
        </label>

        <div class="btn-row">
          <button class="copy-btn" data-copy-target="videoGenOutput">Copy Brief</button>
        </div>
      </div>
    </div>
  </div>

  <!-- CREATIVE STUDIO OVERLAY -->
  <div id="creativeStudioOverlay" class="creative-overlay hidden">
    <div class="creative-modal">
      <div class="creative-header">
        <h2>Creative Studio</h2>
        <button id="creativeClose" class="modal-close-btn">‚úï</button>
      </div>

      <div class="creative-top-bar">
        <div class="preset-label">
          <span>Canvas preset</span>
          <select id="creativeCanvasPreset">
            <option value="1080x1080">Square ‚Äì 1080x1080</option>
            <option value="1080x1920">Story ‚Äì 1080x1920</option>
            <option value="1920x1080">Landscape ‚Äì 1920x1080</option>
          </select>
        </div>

        <div class="creative-actions">
          <button id="creativeUndo">Undo</button>
          <button id="creativeRedo">Redo</button>
          <button id="creativeDelete">Delete</button>
          <button id="creativeExportPng">Export PNG</button>
        </div>
      </div>

      <div class="creative-body">
        <aside class="creative-tools">
          <h3>Tools</h3>
          <button class="tool-btn tool-btn-active" data-tool="select">Select / Move</button>
          <button class="tool-btn" data-tool="uploadImage">Add Photo</button>
          <button class="tool-btn" data-tool="addText">Add Text</button>
          <button class="tool-btn" data-tool="addRect">Banner Bar</button>
          <button class="tool-btn" data-tool="addBadge">Price Badge</button>
          <input id="creativeImageInput" type="file" class="hidden-input" accept="image/*" />
        </aside>

        <div class="creative-canvas-wrap">
          <canvas id="creativeCanvas" width="1080" height="1080"></canvas>
        </div>

        <aside class="creative-properties">
          <div class="prop-group">
            <h4>Shape / Image</h4>
            <label>
              Fill color
              <input type="color" id="propFillColor" value="#ffffff" />
            </label>
            <label>
              Stroke color
              <input type="color" id="propStrokeColor" value="#000000" />
            </label>
            <label>
              Stroke width
              <input type="number" id="propStrokeWidth" min="0" max="20" value="0" />
            </label>
          </div>

          <div class="prop-group" id="textOptions" style="display:none;">
            <h4>Text</h4>
            <label>
              Font size
              <input type="number" id="propFontSize" value="48" min="10" max="120" />
            </label>
            <label>
              Align
              <select id="propTextAlign">
                <option value="left">Left</option>
                <option value="center" selected>Center</option>
                <option value="right">Right</option>
              </select>
            </label>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
